<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Nearest Widget</title>
        <link rel="stylesheet" href="//js.arcgis.com/3.11/dijit/themes/claro/claro.css">
        <link rel="stylesheet" type="text/css" href="//js.arcgis.com/3.11/esri/css/esri.css" />
        <link rel="stylesheet" type="text/css" href="js/resources/Nearest.css" />
        <link rel="stylesheet" type="text/css" href="js/resources/NearestLayer.css" />
        <link rel="stylesheet" type="text/css" href="js/resources/NearestItem.css" />

        <script>
            var package_path = window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/'));
            var dojoConfig = {
                async: true,
                has: { "native-xhr2": false },
                packages: [{
                    name: "app",
                    location: package_path + '/js'
                }]
            };
        </script>

        <script src="//js.arcgis.com/3.11/"></script>

        <script type="text/javascript">
            require(["esri/geometry/Point", "esri/SpatialReference", "app/Nearest", "app/NearestItem"], function (Point, SpatialReference, Nearest, NearestItem) {
                var nearest = new Nearest({
                    webmapId: "0713c71403f94013a399ab54910ec8bf",
                    location: new Point("-0.8055515", "51.8003171", new SpatialReference({ wkid: 4326 })),
                    searchRadius: 50
                }, "nearestWidget");
                    
                nearest.startup();
            });

        </script>
    </head>
    <body class="claro">
        <div id="nearestWidget"></div>
    </body>
</html>
